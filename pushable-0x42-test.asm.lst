0001   0000             ; Run in Mode 2, Multiplexed/RAM/No ROM, P20: L, P21: H, P22: L
0002   0000             ;
0003   0000             ;Current theory 0x42 is 1-byte something acc. A?
0004   0000             ;
0005   0000             ; Serial Results:
0006   0000             ; 0xD4 1101 0100
0007   0000             ; 0xD2 1101 0010
0008   0000                                 .msfirst
0009   0000             ;
0010   0000             ;RAM
0011   0000             RAM_BBU_BOT         .equ    $0040       ;The bottom of "Battery Backup" RAM
0012   0000             RAM_BBU_TOP         .equ    $0056       ;The top of "Battery Backup" RAM
0013   0000             RAM_VIO_BOT         .equ    $0057       ;The bottom of "violate" RAM
0014   0000             RAM_VIO_TOP         .equ    $01BF       ;The top of "violate" RAM
0015   0000             ;
0016   0000
0017   0000             ;
0018   0000             ;Subroutines in ROM
0019   0000             PCHAR               .equ    $8054
0020   0000             RCHAR               .equ    $805F
0021   0000             PSTR                .equ    $8068
0022   0000             CLRACC              .equ    $8089
0023   0000             ;
0024   0000             START               .equ    RAM_VIO_BOT
0025   0000             ;
0026   0057                                 .org    START
0027   0057                                 ;
0028   0057 CE 00 40    CLR_RAM             ldx     #RAM_BBU_BOT
0029   005A 86 00                           ldaa    #$00
0030   005C A7 00       CLR_RAM_LOOP        staa    $00,x
0031   005E 08                              inx
0032   005F 8C 00 56                        cpx     #RAM_BBU_TOP
0033   0062 23 F8                           bls     CLR_RAM_LOOP
0034   0064                                 ;
0035   0064 86 01                           ldaa    #$01         ;marker
0036   0066 BD 80 54                        jsr     PCHAR
0037   0069                                 ;
0038   0069 86 40       INST_TEST           ldaa    #$40
0039   006B 42                              .byte   $42
0040   006C                                 ;
0041   006C 86 01                           ldaa    #$01         ;marker
0042   006E BD 80 54                        jsr     PCHAR
0043   0071                                 ;
0044   0071 CE 00 40    DUMP_MEM            ldx     #RAM_BBU_BOT
0045   0074 A6 00       DUMP_MEM_LOOP       ldaa    $00,x
0046   0076 BD 80 54                        jsr     PCHAR
0047   0079 08                              inx
0048   007A 8C 00 56                        cpx     #RAM_BBU_TOP
0049   007D 23 F5                           bls     DUMP_MEM_LOOP
0050   007F                                 ;
0051   007F 39                              rts
0052   0080                                 .end
# tasm: Number of errors = 0
